<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>연합뉴스TV 뉴스 스크롤</title>
<style>
  body {
    font-family: "Noto Sans KR", sans-serif;
    margin: 0;
    background: #f9f9f9;
    overflow-x: hidden;
  }
  #news-container {
    width: 100%;
    white-space: nowrap;
    overflow-x: hidden;
  }
  .news-item {
    display: inline-block;
    width: 300px;
    margin: 10px;
    vertical-align: top;
    background: #fff;
    border-radius: 10px;
    box-shadow: 0 0 6px rgba(0,0,0,0.1);
    padding: 10px;
  }
  .news-item img {
    width: 100%;
    height: auto;
    border-radius: 5px;
  }
  .news-title {
    font-weight: bold;
    margin: 10px 0 5px 0;
  }
  .news-description {
    font-size: 0.9em;
    color: #333;
  }
</style>
</head>
<body>

<div id="news-container"></div>

<script>
const rssFeeds = [
  {title: "최신", url: "http://www.yonhapnewstv.co.kr/browse/feed/"},
  {title: "정치", url: "http://www.yonhapnewstv.co.kr/category/news/politics/feed/"},
  {title: "경제", url: "http://www.yonhapnewstv.co.kr/category/news/economy/feed/"},
  {title: "사회", url: "http://www.yonhapnewstv.co.kr/category/news/society/feed/"},
  {title: "지역", url: "http://www.yonhapnewstv.co.kr/category/news/local/feed/"},
  {title: "세계", url: "http://www.yonhapnewstv.co.kr/category/news/international/feed/"},
  {title: "문화ㆍ연예", url: "http://www.yonhapnewstv.co.kr/category/news/culture/feed/"},
  {title: "스포츠", url: "http://www.yonhapnewstv.co.kr/category/news/sports/feed/"},
  {title: "날씨", url: "http://www.yonhapnewstv.co.kr/category/news/weather/feed/"}
];

async function fetchRSS(url) {
  const proxy = "https://api.allorigins.win/get?url="; // CORS 우회
  const response = await fetch(proxy + encodeURIComponent(url));
  const data = await response.json();
  const parser = new DOMParser();
  const xml = parser.parseFromString(data.contents, "application/xml");
  return xml;
}

async function loadNews() {
  const container = document.getElementById("news-container");
  for (let feed of rssFeeds) {
    const xml = await fetchRSS(feed.url);
    const items = xml.querySelectorAll("item");
    items.forEach(item => {
      const title = item.querySelector("title")?.textContent || "";
      const link = item.querySelector("link")?.textContent || "#";
      const description = item.querySelector("description")?.textContent || "";
      const img = item.querySelector("enclosure")?.getAttribute("url") || "";
      
      const newsDiv = document.createElement("div");
      newsDiv.className = "news-item";
      newsDiv.innerHTML = `
        ${img ? `<img src="${img}" alt="news image">` : ""}
        <div class="news-title"><a href="${link}" target="_blank">${title}</a></div>
        <div class="news-description">${description}</div>
      `;
      container.appendChild(newsDiv);
    });
  }
}

loadNews();
</script>
</body>
</html>
